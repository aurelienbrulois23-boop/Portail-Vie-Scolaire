<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSC1 - Module P4.02 : RCP Enfant</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --primary: #0066ff; --accent: #00a8ff; --dark: #0a0d1a; --darker: #050712; --glow: rgba(0, 102, 255, 0.4); }
        body { font-family: 'Rajdhani', sans-serif; background: linear-gradient(135deg, var(--darker) 0%, #1a1a2e 100%); color: #fff; min-height: 100vh; padding: 20px; position: relative; overflow-x: hidden; }
        .particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; opacity: 0.3; }
        .particle { position: absolute; width: 3px; height: 3px; background: var(--primary); border-radius: 50%; animation: float 8s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0) translateX(0); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateY(-100vh) translateX(50px); opacity: 0; } }
        .container { max-width: 1200px; margin: 0 auto; position: relative; z-index: 1; }
        .music-controls { position: fixed; top: 20px; right: 20px; display: flex; align-items: center; gap: 10px; background: rgba(0, 0, 0, 0.6); padding: 10px 15px; border-radius: 50px; backdrop-filter: blur(10px); border: 1px solid rgba(0, 102, 255, 0.3); z-index: 1000; }
        .music-btn { background: none; border: none; font-size: 1.5em; cursor: pointer; transition: transform 0.2s ease; }
        .music-btn:hover { transform: scale(1.2); }
        .volume-slider { width: 80px; height: 5px; background: rgba(255, 255, 255, 0.2); border-radius: 5px; outline: none; -webkit-appearance: none; }
        .volume-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 15px; height: 15px; background: var(--primary); border-radius: 50%; cursor: pointer; }
        header { text-align: center; margin-bottom: 40px; padding: 30px; background: rgba(255, 255, 255, 0.02); border-radius: 15px; border: 1px solid rgba(0, 102, 255, 0.3); }
        .module-badge { display: inline-block; background: linear-gradient(135deg, var(--primary), var(--accent)); color: #fff; padding: 8px 20px; border-radius: 20px; font-size: 0.9em; font-weight: 700; margin-bottom: 15px; }
        h1 { font-family: 'Orbitron', monospace; font-size: 2.8em; font-weight: 900; margin-bottom: 15px; text-shadow: 0 0 20px var(--glow); }
        .subtitle { font-size: 1.3em; color: #aabbcc; margin-bottom: 20px; }
        .progress-bar { width: 100%; height: 8px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; overflow: hidden; margin-top: 20px; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); width: 0%; transition: width 0.5s ease; }
        .section { background: rgba(255, 255, 255, 0.02); border-radius: 15px; padding: 30px; margin-bottom: 30px; border-left: 4px solid var(--primary); display: none; }
        .section.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .section-title { font-family: 'Orbitron', monospace; font-size: 2em; margin-bottom: 20px; color: var(--primary); display: flex; align-items: center; gap: 15px; }
        .theory-content { line-height: 1.8; font-size: 1.1em; }
        .theory-content h3 { color: var(--accent); margin: 25px 0 15px 0; font-size: 1.4em; }
        .theory-content p { margin-bottom: 15px; text-align: justify; }
        .highlight-box { background: rgba(0, 102, 255, 0.1); border-left: 3px solid var(--primary); padding: 15px; margin: 20px 0; border-radius: 5px; }
        .important-list { list-style: none; padding: 0; }
        .important-list li { padding: 10px 0 10px 30px; position: relative; }
        .important-list li::before { content: 'üë∂'; position: absolute; left: 0; }
        .technique-box { background: rgba(0, 0, 0, 0.4); border-radius: 10px; padding: 20px; margin: 25px 0; border: 2px solid var(--accent); }
        .question-card { background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 25px; margin-bottom: 25px; border: 1px solid rgba(0, 102, 255, 0.3); }
        .question-text { font-size: 1.3em; margin-bottom: 20px; font-weight: 600; }
        .options { display: flex; flex-direction: column; gap: 12px; }
        .option { background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; }
        .option:hover { background: rgba(0, 102, 255, 0.1); border-color: var(--primary); transform: translateX(5px); }
        .option.selected { background: rgba(0, 102, 255, 0.2); border-color: var(--accent); }
        .option.correct { background: rgba(50, 205, 50, 0.2); border-color: #32cd32; }
        .option.incorrect { background: rgba(220, 20, 60, 0.2); border-color: #dc143c; }
        .scenario-card { background: rgba(0, 0, 0, 0.4); border-radius: 10px; padding: 25px; margin-bottom: 25px; border: 1px solid var(--primary); }
        .scenario-title { font-size: 1.5em; color: var(--accent); margin-bottom: 15px; font-weight: 700; }
        .scenario-text { font-size: 1.1em; line-height: 1.7; margin-bottom: 20px; font-style: italic; }
        .btn { padding: 15px 30px; background: linear-gradient(135deg, var(--primary), var(--accent)); color: #fff; border: none; border-radius: 8px; font-size: 1.1em; font-weight: 700; cursor: pointer; transition: all 0.3s ease; font-family: 'Orbitron', monospace; }
        .btn:hover { transform: scale(1.05); box-shadow: 0 0 25px var(--glow); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-secondary { background: rgba(255, 255, 255, 0.1); color: #fff; }
        .btn-group { display: flex; gap: 15px; justify-content: center; margin-top: 30px; }
        .results-panel { background: rgba(0, 0, 0, 0.4); border-radius: 15px; padding: 30px; text-align: center; border: 2px solid var(--primary); }
        .score-display { font-size: 4em; font-family: 'Orbitron', monospace; font-weight: 900; color: var(--accent); margin: 20px 0; }
        .code-display { background: rgba(0, 212, 255, 0.1); border: 2px solid #00d4ff; border-radius: 10px; padding: 20px; margin: 20px 0; font-family: 'Courier New', monospace; word-break: break-all; font-size: 0.9em; }
        .nav-buttons { position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 100; }
        .nav-btn { background: rgba(0, 102, 255, 0.8); padding: 12px 20px; border-radius: 25px; cursor: pointer; font-weight: 700; transition: all 0.3s ease; backdrop-filter: blur(10px); }
        .nav-btn:hover { background: var(--primary); transform: scale(1.05); }
        @media (max-width: 768px) { h1 { font-size: 2em; } .section-title { font-size: 1.5em; } .btn-group { flex-direction: column; } }
    </style>
</head>
<body>
    <audio id="bgMusic" loop><source src="music_cardiac.mp3" type="audio/mpeg"></audio>
    <div class="particles" id="particles"></div>
    <div class="music-controls">
        <button class="music-btn" id="musicToggle" onclick="toggleMusic()">üîá</button>
        <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="30" oninput="changeVolume(this.value)">
    </div>
    <div class="container">
        <header>
            <div class="module-badge">MODULE P4.02</div>
            <h1>üë∂ RCP ENFANT</h1>
            <div class="subtitle">R√©animation Cardio-Pulmonaire Enfant (1-8 ans) - Cycle 30:2</div>
            <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
        </header>

        <div class="section active" id="section-theory">
            <div class="section-title"><span>üìö</span><span>TH√âORIE</span></div>
            <div class="theory-content">
                <div class="highlight-box"><strong>üéØ OBJECTIF :</strong> Ma√Ætriser la RCP enfant avec adaptations morphologiques (1-8 ans).</div>

                <h3>üë∂ D√©finition enfant</h3>
                <p>Un <strong>enfant</strong> = entre <strong>1 an et 8 ans</strong> (ou jusqu'√† d√©but pubert√©). En dessous de 1 an = nourrisson. Au-dessus de 8 ans = adulte.</p>

                <h3>üîç Reconna√Ætre arr√™t cardiaque</h3>
                <div class="technique-box">
                    <ul class="important-list">
                        <li><strong>Enfant INCONSCIENT</strong> (ne r√©pond pas)</li>
                        <li><strong>NE RESPIRE PAS</strong> (ou gasp)</li>
                    </ul>
                    <p style="margin-top: 10px;">‚Üí ARR√äT CARDIAQUE ‚Üí RCP imm√©diate !</p>
                </div>

                <h3>üí™ Compressions thoraciques ENFANT</h3>
                <div class="technique-box">
                    <h4 style="color: var(--accent);">ADAPTATIONS vs ADULTE</h4>
                    <ul class="important-list">
                        <li><strong>PROFONDEUR :</strong> 5 cm (environ 1/3 √©paisseur thorax) - MOINS profond que adulte</li>
                        <li><strong>MAINS :</strong> OPTION 1 MAIN si enfant petit, 2 mains si enfant grand</li>
                        <li><strong>FR√âQUENCE :</strong> 100-120/min (identique adulte)</li>
                        <li><strong>POSITION :</strong> Centre sternum (identique adulte)</li>
                    </ul>
                    
                    <h4 style="color: var(--accent); margin-top: 15px;">TECHNIQUE IDENTIQUE</h4>
                    <p>Bras tendus, √©paules verticales, rel√¢chement complet entre compressions, compter √† voix haute jusqu'√† 30.</p>
                </div>

                <h3>ü´Å Insufflations ENFANT</h3>
                <div class="technique-box">
                    <ul class="important-list">
                        <li>Basculer t√™te en arri√®re (LVA)</li>
                        <li>Pincer le nez</li>
                        <li>Insuffler 1 seconde (adapter volume √† taille enfant)</li>
                        <li>V√©rifier soul√®vement thorax</li>
                        <li>2 insufflations au total</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>‚ö†Ô∏è Ne pas souffler aussi fort que pour adulte !</strong> Adapter √† la taille de l'enfant.</p>
                </div>

                <h3>üîÑ Cycle 30:2</h3>
                <div class="highlight-box">
                    <strong>PROTOCOLE ENFANT :</strong><br><br>
                    ‚úÖ 30 compressions (5 cm profondeur)<br>
                    ‚úÖ 2 insufflations (volume adapt√©)<br>
                    ‚úÖ Recommencer 30:2<br>
                    ‚úÖ Continuer SANS ARR√äT jusqu'√† secours ou respiration ou √©puisement
                </div>

                <h3>üìû Alerte</h3>
                <ul class="important-list">
                    <li>Si SEUL avec enfant : Faire <strong>5 CYCLES (30:2)</strong> AVANT d'alerter (environ 2 min de RCP)</li>
                    <li>Si PLUSIEURS sauveteurs : Faire alerter imm√©diatement pendant qu'on d√©bute RCP</li>
                    <li>Demander un DAE</li>
                </ul>

                <h3>‚ö†Ô∏è Diff√©rences enfant vs adulte vs nourrisson</h3>
                <div class="technique-box">
                    <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                        <tr style="background: rgba(0,102,255,0.2);">
                            <th style="padding: 10px; text-align: left;">Crit√®re</th>
                            <th style="padding: 10px; text-align: left;">ADULTE</th>
                            <th style="padding: 10px; text-align: left;">ENFANT (1-8ans)</th>
                            <th style="padding: 10px; text-align: left;">NOURRISSON (<1an)</th>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Cycle</td>
                            <td style="padding: 10px;">30:2</td>
                            <td style="padding: 10px;"><strong>30:2</strong></td>
                            <td style="padding: 10px;">5 insuff PUIS 15:2</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Profondeur</td>
                            <td style="padding: 10px;">5-6 cm</td>
                            <td style="padding: 10px;"><strong>5 cm</strong></td>
                            <td style="padding: 10px;">4 cm</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Mains</td>
                            <td style="padding: 10px;">2 mains</td>
                            <td style="padding: 10px;"><strong>1 ou 2 mains</strong></td>
                            <td style="padding: 10px;">2 doigts</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Alerte si seul</td>
                            <td style="padding: 10px;">Imm√©diate</td>
                            <td style="padding: 10px;"><strong>5 cycles puis alerter</strong></td>
                            <td style="padding: 10px;">5 cycles puis alerter</td>
                        </tr>
                    </table>
                </div>

                <div class="highlight-box">
                    <strong>üîë POINTS CL√âS :</strong><br>
                    ‚úÖ Enfant = 1 √† 8 ans<br>
                    ‚úÖ 30:2 (comme adulte)<br>
                    ‚úÖ 5 cm profondeur (moins que adulte)<br>
                    ‚úÖ 1 ou 2 mains selon taille<br>
                    ‚úÖ Si seul : 5 cycles AVANT alerter<br>
                    ‚úÖ Insufflations adapt√©es √† taille enfant
                </div>
            </div>
            <div class="btn-group"><button class="btn" onclick="nextSection()">QUIZ ‚û°Ô∏è</button></div>
        </div>

        <div class="section" id="section-quiz">
            <div class="section-title"><span>‚ùì</span><span>QUIZ</span></div>
            <div id="quizContainer"></div>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="previousSection()">‚¨ÖÔ∏è</button>
                <button class="btn" id="btnValidateQuiz" onclick="validateQuiz()" disabled>VALIDER</button>
            </div>
        </div>

        <div class="section" id="section-scenarios">
            <div class="section-title"><span>üé¨</span><span>SC√âNARIOS</span></div>
            <div id="scenariosContainer"></div>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="previousSection()">‚¨ÖÔ∏è</button>
                <button class="btn" id="btnValidateScenarios" onclick="validateScenarios()" disabled>VALIDER</button>
            </div>
        </div>

        <div class="section" id="section-results">
            <div class="section-title"><span>üèÜ</span><span>R√âSULTATS</span></div>
            <div class="results-panel">
                <h2>üìä SCORE</h2>
                <div class="score-display" id="finalScore">0/200</div>
                <div style="margin: 30px 0;">
                    <p style="font-size: 1.2em; margin-bottom: 10px;">Quiz : <span id="quizScoreDisplay">0/100</span></p>
                    <p style="font-size: 1.2em;">Sc√©narios : <span id="scenariosScoreDisplay">0/100</span></p>
                </div>
                <div id="certificationMessage"></div>
                <div class="code-display" id="codeDisplay" style="display: none;">
                    <strong>üîë CODE :</strong><br>
                    <span id="certificationCode" style="font-size: 1.1em; color: #00d4ff;"></span><br><br>
                    <button class="btn" onclick="copyCode()">üìã COPIER</button>
                </div>
                <div class="btn-group" style="margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="restartModule()">üîÑ</button>
                    <button class="btn" onclick="returnToHub()">üè† HUB</button>
                </div>
            </div>
        </div>
    </div>
    <div class="nav-buttons"><div class="nav-btn" onclick="returnToHub()">üè† HUB</div></div>

    <script>
        let currentSection=0,quizAnswers=[],scenarioAnswers=[],quizScore=0,scenariosScore=0;
        const music=document.getElementById('bgMusic'),musicToggle=document.getElementById('musicToggle');
        let isMusicPlaying=false;
        function toggleMusic(){if(isMusicPlaying){music.pause();musicToggle.textContent='üîá';isMusicPlaying=false}else{music.play();musicToggle.textContent='üîä';isMusicPlaying=true}}
        function changeVolume(v){music.volume=v/100}
        document.body.addEventListener('click',()=>{if(!isMusicPlaying&&music.paused){music.play();musicToggle.textContent='üîä';isMusicPlaying=true}},{once:true});

        const quizQuestions=[
            {q:"Un enfant en PSC1 = 1 √† 8 ans (ou d√©but pubert√©).",options:["Vrai","Faux"],correct:0,explanation:"VRAI ! Entre 1 an et 8 ans."},
            {q:"Le cycle RCP enfant est :",options:["15:2","30:2","5:1","10:2"],correct:1,explanation:"30:2 (identique adulte)."},
            {q:"La profondeur compressions enfant est :",options:["5-6 cm","5 cm","4 cm","2-3 cm"],correct:1,explanation:"5 cm (1/3 thorax, MOINS profond que adulte 5-6cm)."},
            {q:"Pour les compressions enfant, j'utilise :",options:["2 doigts","Toujours 2 mains","1 ou 2 mains selon taille","Le poing"],correct:2,explanation:"1 main si petit, 2 mains si grand enfant."},
            {q:"Si je suis SEUL avec un enfant en arr√™t, je dois :",options:["Alerter imm√©diatement","Faire 5 cycles (30:2) PUIS alerter","Faire 1 cycle puis alerter","Attendre"],correct:1,explanation:"5 cycles (~2 min RCP) PUIS alerter (sp√©cificit√© enfant/nourrisson)."},
            {q:"Les insufflations enfant doivent √™tre :",options:["Identiques adulte","Adapt√©es √† la taille (moins de volume)","Plus fortes","Inutiles"],correct:1,explanation:"Adapter le volume √† la taille de l'enfant (ne pas souffler aussi fort)."},
            {q:"La fr√©quence compressions enfant est :",options:["50-60/min","100-120/min","150/min","60-80/min"],correct:1,explanation:"100-120/min (identique adulte)."},
            {q:"Un enfant de 10 mois fait :",options:["Arr√™t cardiaque ‚Üí RCP nourrisson","Arr√™t ‚Üí RCP enfant","Arr√™t ‚Üí RCP adulte","Rien"],correct:0,explanation:"10 mois = NOURRISSON (<1 an) ‚Üí RCP nourrisson (5 insuff + 15:2)."},
            {q:"Un enfant de 4 ans en arr√™t n√©cessite :",options:["RCP adulte","RCP enfant 30:2","RCP nourrisson","PLS"],correct:1,explanation:"4 ans = ENFANT ‚Üí RCP enfant 30:2."},
            {q:"Le gasp chez l'enfant signifie :",options:["Il respire normalement","Arr√™t cardiaque ‚Üí RCP","Il va bien","Obstruction"],correct:1,explanation:"GASP = ARR√äT CARDIAQUE (adulte/enfant/nourrisson)."}
        ];

        const scenarios=[
            {title:"Sc√©nario 1 : Piscine",text:"Un enfant de 5 ans est retir√© de l'eau. Inconscient, ne respire pas. Vous √™tes seul. Que faites-vous ?",options:["Alerter imm√©diatement","Faire 5 cycles RCP 30:2 PUIS alerter","PLS","Attendre"],correct:1,explanation:"Seul + enfant arr√™t ‚Üí 5 cycles (~2 min) RCP 30:2 PUIS alerter !"},
            {title:"Sc√©nario 2 : Petit enfant",text:"Enfant 2 ans en arr√™t. Pour les compressions, vous utilisez :",options:["2 doigts","1 main (enfant petit)","2 mains obligatoire","Le poing"],correct:1,explanation:"Enfant petit (2 ans) ‚Üí 1 MAIN suffit (adapter √† taille)."},
            {title:"Sc√©nario 3 : Insufflations",text:"Lors des insufflations sur enfant de 6 ans, vous devez :",options:["Souffler aussi fort que pour adulte","Adapter volume √† taille enfant","Ne pas faire d'insufflations","Souffler 5 secondes"],correct:1,explanation:"Adapter volume √† taille ! Ne pas souffler aussi fort que adulte."}
        ];

        document.addEventListener('DOMContentLoaded',()=>{createParticles();generateQuiz();generateScenarios();updateProgress()});
        function createParticles(){const c=document.getElementById('particles');for(let i=0;i<30;i++){const p=document.createElement('div');p.className='particle';p.style.left=Math.random()*100+'%';p.style.animationDelay=Math.random()*8+'s';p.style.animationDuration=(Math.random()*5+5)+'s';c.appendChild(p)}}
        function generateQuiz(){const c=document.getElementById('quizContainer');quizQuestions.forEach((item,i)=>{const card=document.createElement('div');card.className='question-card';card.innerHTML=`<div class="question-text">${i+1}. ${item.q}</div><div class="options" id="options-${i}">${item.options.map((opt,j)=>`<div class="option" onclick="selectOption(${i},${j})">${opt}</div>`).join('')}</div><div id="explanation-${i}" style="display:none;margin-top:15px;padding:15px;background:rgba(0,212,255,0.1);border-radius:5px;"></div>`;c.appendChild(card)})}
        function selectOption(qi,oi){const opts=document.getElementById(`options-${qi}`).querySelectorAll('.option');opts.forEach(o=>o.classList.remove('selected'));opts[oi].classList.add('selected');quizAnswers[qi]=oi;if(quizAnswers.filter(a=>a!==undefined).length===quizQuestions.length)document.getElementById('btnValidateQuiz').disabled=false}
        function validateQuiz(){let score=0;quizQuestions.forEach((item,i)=>{const opts=document.getElementById(`options-${i}`).querySelectorAll('.option');const exp=document.getElementById(`explanation-${i}`);if(quizAnswers[i]===item.correct){score+=10;opts[quizAnswers[i]].classList.add('correct')}else{opts[quizAnswers[i]].classList.add('incorrect');opts[item.correct].classList.add('correct')}exp.innerHTML=`<strong>Explication :</strong> ${item.explanation}`;exp.style.display='block';opts.forEach(o=>o.style.pointerEvents='none')});quizScore=score;document.getElementById('btnValidateQuiz').disabled=true;setTimeout(()=>nextSection(),3000)}
        function generateScenarios(){const c=document.getElementById('scenariosContainer');scenarios.forEach((item,i)=>{const card=document.createElement('div');card.className='scenario-card';card.innerHTML=`<div class="scenario-title">${item.title}</div><div class="scenario-text">"${item.text}"</div><div class="options" id="scenario-options-${i}">${item.options.map((opt,j)=>`<div class="option" onclick="selectScenario(${i},${j})">${opt}</div>`).join('')}</div><div id="scenario-explanation-${i}" style="display:none;margin-top:15px;padding:15px;background:rgba(0,212,255,0.1);border-radius:5px;"></div>`;c.appendChild(card)})}
        function selectScenario(si,oi){const opts=document.getElementById(`scenario-options-${si}`).querySelectorAll('.option');opts.forEach(o=>o.classList.remove('selected'));opts[oi].classList.add('selected');scenarioAnswers[si]=oi;if(scenarioAnswers.filter(a=>a!==undefined).length===scenarios.length)document.getElementById('btnValidateScenarios').disabled=false}
        function validateScenarios(){let score=0;scenarios.forEach((item,i)=>{const opts=document.getElementById(`scenario-options-${i}`).querySelectorAll('.option');const exp=document.getElementById(`scenario-explanation-${i}`);if(scenarioAnswers[i]===item.correct){score+=33.33;opts[scenarioAnswers[i]].classList.add('correct')}else{opts[scenarioAnswers[i]].classList.add('incorrect');opts[item.correct].classList.add('correct')}exp.innerHTML=`<strong>‚úÖ Bonne r√©ponse :</strong> ${item.explanation}`;exp.style.display='block';opts.forEach(o=>o.style.pointerEvents='none')});scenariosScore=Math.round(score);document.getElementById('btnValidateScenarios').disabled=true;setTimeout(()=>showResults(),3000)}
        function showResults(){nextSection();const total=quizScore+scenariosScore;document.getElementById('finalScore').textContent=total+'/200';document.getElementById('quizScoreDisplay').textContent=quizScore+'/100';document.getElementById('scenariosScoreDisplay').textContent=scenariosScore+'/100';const msg=document.getElementById('certificationMessage');const codeDiv=document.getElementById('codeDisplay');if(total>=140){msg.innerHTML=`<h3 style="color:#32cd32;">üéâ F√âLICITATIONS !</h3><p style="font-size:1.2em;margin:15px 0;">Module valid√© !</p>`;const code=btoa(JSON.stringify({v:1,d:new Date().toISOString().split('T')[0],m:'RCP_CHILD_01',n:'Apprenant',s:total,q:Math.round((quizScore/100)*100),sc:Math.round((scenariosScore/100)*100),f:true}));document.getElementById('certificationCode').textContent=code;codeDiv.style.display='block'}else{msg.innerHTML=`<h3 style="color:#ffa500;">‚ö†Ô∏è INSUFFISANT</h3><p style="font-size:1.1em;margin:15px 0;">Requis : 140/200<br>Score : ${total}/200</p>`}}
        function copyCode(){navigator.clipboard.writeText(document.getElementById('certificationCode').textContent);alert('‚úÖ Copi√© !')}
        function nextSection(){const s=document.querySelectorAll('.section');s[currentSection].classList.remove('active');currentSection++;s[currentSection].classList.add('active');updateProgress();window.scrollTo(0,0)}
        function previousSection(){const s=document.querySelectorAll('.section');s[currentSection].classList.remove('active');currentSection--;s[currentSection].classList.add('active');updateProgress();window.scrollTo(0,0)}
        function updateProgress(){document.getElementById('progressFill').style.width=((currentSection+1)/4)*100+'%'}
        function restartModule(){location.reload()}
        function returnToHub(){window.location.href='index_PSC1.html'}
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGORA | Module P01 - L'√âcoute Active</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;600;700&family=Share+Tech+Mono&display=swap');
        :root { --agora-blue:#0f172a; --agora-gold:#fbbf24; --agora-slate:#1e293b; --agora-green:#22c55e; --agora-red:#ef4444; --text-primary:#f8fafc; --text-muted:#94a3b8; }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Montserrat',sans-serif; background:var(--agora-blue); color:var(--text-primary); min-height:100vh; display:flex; justify-content:center; align-items:flex-start; padding:20px 0 40px; }
        #root { width:100%; max-width:860px; padding:20px; }
        .card { background:rgba(15,23,42,0.97); border:2px solid var(--agora-gold); padding:40px; border-radius:6px; box-shadow:0 10px 40px rgba(0,0,0,0.7); position:relative; overflow:hidden; }
        .card::before { content:'P01'; position:absolute; top:-15px; right:-10px; font-family:'Playfair Display'; font-size:5rem; opacity:0.04; color:var(--agora-gold); transform:rotate(-10deg); }
        h1 { font-family:'Playfair Display',serif; color:var(--agora-gold); text-align:center; font-size:1.9rem; margin-bottom:8px; }
        h2 { font-family:'Playfair Display',serif; color:var(--agora-gold); font-size:1.4rem; margin-bottom:16px; }
        .badge { display:inline-block; padding:6px 18px; border:1px solid var(--agora-gold); color:var(--agora-gold); font-family:'Share Tech Mono',monospace; font-size:0.8rem; margin-bottom:24px; }
        .progress { display:flex; gap:10px; justify-content:center; margin-bottom:28px; }
        .step { width:44px; height:44px; border:2px solid #334155; border-radius:50%; display:flex; align-items:center; justify-content:center; font-family:'Share Tech Mono',monospace; font-size:0.85rem; color:#475569; transition:all 0.3s; }
        .step.active { border-color:var(--agora-gold); color:var(--agora-gold); box-shadow:0 0 12px rgba(251,191,36,0.4); }
        .step.done { border-color:var(--agora-green); color:var(--agora-green); background:rgba(34,197,94,0.1); }
        .lesson-block { background:rgba(251,191,36,0.04); border-left:3px solid var(--agora-gold); padding:18px 20px; margin-bottom:16px; border-radius:0 6px 6px 0; }
        .lesson-block h3 { color:var(--agora-gold); font-size:0.9rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px; font-family:'Share Tech Mono',monospace; }
        .lesson-block p { line-height:1.75; color:var(--text-primary); font-size:0.95rem; margin-bottom:8px; }
        .lesson-block strong { color:var(--agora-gold); }
        .compare-row { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px; }
        .compare-bad { padding:10px 14px; background:rgba(239,68,68,0.06); border:1px solid rgba(239,68,68,0.25); border-radius:4px; font-size:0.88rem; color:#fca5a5; line-height:1.6; }
        .compare-good { padding:10px 14px; background:rgba(34,197,94,0.06); border:1px solid rgba(34,197,94,0.25); border-radius:4px; font-size:0.88rem; color:#86efac; line-height:1.6; }
        .compare-bad::before { content:"‚ùå "; }
        .compare-good::before { content:"‚úÖ "; }
        .niveau-row { display:flex; flex-direction:column; gap:8px; margin-top:10px; }
        .niveau-item { display:flex; gap:10px; align-items:flex-start; padding:8px 12px; border-radius:4px; background:rgba(255,255,255,0.02); }
        .niveau-num { font-family:'Share Tech Mono',monospace; color:var(--agora-gold); font-size:0.85rem; flex-shrink:0; }
        .niveau-txt { font-size:0.9rem; line-height:1.6; color:var(--text-muted); }
        .niveau-txt strong { color:var(--text-primary); }
        .btn { background:var(--agora-gold); color:var(--agora-blue); border:none; padding:14px 32px; font-weight:700; text-transform:uppercase; cursor:pointer; transition:0.3s; display:block; margin:28px auto 0; font-family:'Montserrat',sans-serif; font-size:0.95rem; letter-spacing:1px; border-radius:2px; }
        .btn:hover { box-shadow:0 0 20px rgba(251,191,36,0.5); transform:translateY(-1px); }
        .quiz-q { font-size:1.05rem; font-weight:600; padding:16px; background:rgba(251,191,36,0.06); border-left:4px solid var(--agora-gold); border-radius:0 4px 4px 0; margin-bottom:18px; line-height:1.6; }
        .opt { display:block; width:100%; text-align:left; background:rgba(255,255,255,0.03); border:1px solid #334155; color:white; padding:16px 18px; margin:10px 0; cursor:pointer; transition:0.25s; border-radius:4px; font-family:'Montserrat',sans-serif; font-size:0.95rem; line-height:1.5; }
        .opt:hover:not(:disabled) { border-color:var(--agora-gold); background:rgba(251,191,36,0.06); transform:translateX(4px); }
        .opt.correct { border-color:var(--agora-green); background:rgba(34,197,94,0.1); }
        .opt.incorrect { border-color:var(--agora-red); background:rgba(239,68,68,0.1); }
        .opt:disabled { cursor:default; }
        .feedback { margin-top:16px; padding:14px 18px; border-radius:4px; line-height:1.65; font-size:0.93rem; }
        .feedback.ok { border-left:3px solid var(--agora-green); background:rgba(34,197,94,0.08); }
        .feedback.ko { border-left:3px solid var(--agora-red); background:rgba(239,68,68,0.08); }
        .feedback strong { color:var(--agora-gold); }
        .nav-row { display:flex; justify-content:center; gap:16px; margin-top:22px; }
        .btn-sm { background:transparent; border:2px solid var(--agora-gold); color:var(--agora-gold); padding:10px 24px; font-weight:700; text-transform:uppercase; cursor:pointer; transition:0.3s; font-family:'Montserrat',sans-serif; font-size:0.85rem; border-radius:2px; }
        .btn-sm:hover { background:rgba(251,191,36,0.1); }
        .scenario-ctx { background:rgba(251,191,36,0.05); border:1px dashed #475569; padding:14px 18px; border-radius:4px; font-style:italic; color:var(--text-muted); margin-bottom:16px; line-height:1.65; font-size:0.93rem; }
        .scenario-q { font-size:1.05rem; font-weight:600; margin-bottom:18px; line-height:1.6; }
        .token-box { background:#000; color:var(--agora-gold); font-family:'Share Tech Mono',monospace; padding:16px; border:1px dashed var(--agora-gold); word-break:break-all; margin:20px 0; font-size:0.78rem; }
        .score-val { font-family:'Share Tech Mono',monospace; font-size:1.6rem; color:var(--agora-gold); text-align:center; }
        .score-lbl { font-size:0.75rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px; text-align:center; }
        input[type=text] { width:100%; padding:13px 15px; background:#000; border:1px solid var(--agora-gold); color:#fff; font-family:'Montserrat',sans-serif; font-size:0.95rem; margin-bottom:12px; outline:none; }
        p.intro-txt { line-height:1.75; margin-bottom:14px; color:var(--text-primary); font-size:0.97rem; }
        blockquote { border-left:3px solid var(--agora-gold); padding:10px 16px; margin:12px 0; font-style:italic; color:var(--text-muted); font-size:0.93rem; }
    </style>
</head>
<body><div id="root"></div>
<script>
const {useState} = React;
const e = React.createElement;
const MODULE_ID = "AG_P01";
const CERT_KEY = "CERT_PAROLE_1";

const lesson = [
    {
        icon:"üëÇ",
        title:"Entendre ‚â† √âcouter",
        body:"Entendre est un r√©flexe physique involontaire : tes oreilles captent des sons. √âcouter est une d√©cision consciente : ton cerveau choisit de traiter ce que l'autre dit et cherche √† le comprendre. Un d√©l√©gu√© qui se contente d'entendre ses camarades ne remplit pas son r√¥le. Un d√©l√©gu√© qui √©coute transforme une plainte floue en demande actionnable.",
        extra:null,
        compare:{ bad:"'Ouais ouais, j'entends... (en regardant ailleurs)'", good:"Contact visuel, corps tourn√© vers la personne, t√©l√©phone rang√©." }
    },
    {
        icon:"üì°",
        title:"Les 3 niveaux d'√©coute",
        body:"L'√©coute n'est pas binaire. Il existe au moins trois niveaux, du plus superficiel au plus efficace :",
        niveaux:[
            { num:"Niveau 1", name:"√âcoute passive", desc:"Tu entends les mots sans vraiment traiter le sens. Tu penses √† autre chose en m√™me temps. Inutile pour un d√©l√©gu√©." },
            { num:"Niveau 2", name:"√âcoute s√©lective", desc:"Tu filtres ce qui t'int√©resse. Tu construis d√©j√† ta r√©ponse pendant que l'autre parle. Risque de rater l'essentiel." },
            { num:"Niveau 3", name:"√âcoute active", desc:"Tu suspends ton jugement. Tu cherches √† comprendre l'√©motion derri√®re les mots, pas seulement le contenu. C'est le niveau du d√©l√©gu√©." }
        ]
    },
    {
        icon:"üîß",
        title:"Les 4 outils de l'√©coute active",
        body:"L'√©coute active ne s'improvise pas. Elle repose sur quatre techniques concr√®tes :",
        items:[
            { title:"Le silence actif", desc:"Laisser l'autre finir sans interrompre. Un silence de 3 secondes apr√®s que l'autre a parl√© lui donne souvent envie d'aller plus loin." },
            { title:"Le contact visuel", desc:"Regarder la personne (sans fixer) signale que tu es pr√©sent. D√©tourner le regard pendant qu'elle parle signale le contraire." },
            { title:"Les questions ouvertes", desc:"'Comment tu t'es senti ?' plut√¥t que 'Tu √©tais √©nerv√© ?'. Les questions ferm√©es (oui/non) coupent la parole ; les questions ouvertes l'ouvrent." },
            { title:"La reformulation", desc:"R√©sumer dans tes propres mots ce que l'autre t'a dit. C'est la technique la plus puissante ‚Äî elle prouve que tu as compris." }
        ]
    },
    {
        icon:"üîÑ",
        title:"La reformulation : la technique cl√©",
        body:"La reformulation ne consiste pas √† r√©p√©ter mot pour mot ce que l'autre a dit (ce serait du perroquet). Elle consiste √† restructurer le message dans tes propres mots pour valider ta compr√©hension et permettre √† l'autre de corriger si tu as rat√© quelque chose.",
        extra:null,
        compare:{ bad:"'T'as dit que les devoirs c'√©tait trop.'", good:"'Si j'ai bien compris, tu te sens d√©bord√© par la charge de travail depuis le d√©but du trimestre, c'est √ßa ?'" }
    }
];

const quizData = [
    {
        q:"Quelle est la diff√©rence fondamentale entre 'entendre' et '√©couter' ?",
        opts:[
            "C'est la m√™me chose ‚Äî les deux d√©signent la perception sonore.",
            "Entendre est un r√©flexe physique involontaire ; √©couter est une d√©cision consciente de comprendre l'autre.",
            "√âcouter c'est r√©p√©ter ce que l'autre dit pour lui montrer qu'on l'a entendu."
        ],
        correct:1,
        feedback_ok:"Exact. La diff√©rence est fondamentale pour un d√©l√©gu√© : tu peux √™tre pr√©sent sans √©couter. C'est la seconde qui sert √† quelque chose.",
        feedback_ko:"La distinction est centrale. Entendre est passif et automatique ; √©couter demande un effort conscient de compr√©hension. Ce n'est pas la m√™me chose du tout."
    },
    {
        q:"Pendant qu'un camarade te parle d'un probl√®me, tu commences d√©j√† √† pr√©parer ta r√©ponse. √Ä quel niveau d'√©coute es-tu ?",
        opts:[
            "√âcoute active ‚Äî tu es attentif √† ce qu'il dit.",
            "√âcoute s√©lective ‚Äî tu filtres l'information plut√¥t que de la recevoir pleinement.",
            "√âcoute passive ‚Äî tu n'entends rien du tout."
        ],
        correct:1,
        feedback_ok:"Bonne analyse. Construire sa r√©ponse pendant que l'autre parle, c'est le signe classique de l'√©coute s√©lective. On rate l'√©motion, on ne retient que les mots.",
        feedback_ko:"Pr√©parer sa r√©ponse pendant que l'autre parle est pr√©cis√©ment la d√©finition de l'√©coute s√©lective. L'√©coute active demande de suspendre ce r√©flexe."
    },
    {
        q:"Un camarade te dit : 'J'en ai marre, les profs nous donnent trop de devoirs, c'est n'importe quoi !' Quelle est la meilleure reformulation ?",
        opts:[
            "'T'inqui√®te, travaille plus et √ßa ira mieux.'",
            "'Tu penses qu'il y a trop de devoirs.'",
            "'Si j'ai bien compris, tu te sens d√©bord√© par la charge de travail ‚Äî c'est quelque chose que je peux porter en Conseil de Classe ?'"
        ],
        correct:2,
        feedback_ok:"Parfait. Tu reformules l'√©motion (d√©bord√©), tu valides la compr√©hension, et tu projettes vers une action concr√®te. C'est la boucle compl√®te.",
        feedback_ko:"La reformulation doit capturer l'√©motion, pas seulement le contenu factuel, et ouvrir vers une action. 'Tu penses qu'il y a trop de devoirs' ne fait que r√©p√©ter le contenu sans l'√©motion ni la suite."
    }
];

const scenarioData = {
    ctx:"Une camarade t'intercepte entre deux cours, visiblement agit√©e : 'J'en peux plus de ce groupe de travail, ils ne font rien et c'est toujours moi qui porte tout. Mais je ne veux pas qu'on me voie comme une balance...'",
    q:"Tu as 2 minutes avant le cours. Comment tu √©coutes ?",
    choices:[
        { txt:"Tu l'√©coutes attentivement, puis tu reformules : 'Tu te sens seule √† porter la charge du groupe, et tu as peur d'√™tre mal per√ßue si tu en parles ‚Äî c'est bien √ßa ?' Tu lui demandes si elle veut qu'on en reparle apr√®s les cours.", ok:true, res:"C'est l'√©coute active en action. Tu as reformul√© l'√©motion (seule, surcharg√©e), l'obstacle (peur du regard), et tu as ouvert un espace pour la suite sans promettre plus que tu ne peux tenir en 2 minutes." },
        { txt:"Tu lui dis rapidement : 'Dis-le au prof, c'est lui qui g√®re les groupes.'", ok:false, res:"Tu as entendu, mais pas √©cout√©. Tu proposes une solution sans avoir compris l'enjeu √©motionnel (elle ne veut pas passer pour une balance). Tu as coup√© court √† une situation qui n√©cessitait plus d'attention." },
        { txt:"Tu √©coutes, mais tu lui dis que tu ne peux rien faire et que c'est son probl√®me.", ok:false, res:"Un d√©l√©gu√© qui dit 'c'est ton probl√®me' trahit la confiance qu'on lui accorde. M√™me si tu ne peux pas r√©soudre le probl√®me sur le champ, accuser r√©ception et offrir un moment ult√©rieur co√ªte z√©ro effort." }
    ]
};

function App() {
    const [step, setStep] = useState("intro");
    const [name, setName] = useState("");
    const [qIdx, setQIdx] = useState(0);
    const [chosen, setChosen] = useState(null);
    const [validated, setValidated] = useState(false);
    const [score, setScore] = useState(0);
    const [scenChosen, setScenChosen] = useState(null);
    const [token, setToken] = useState("");

    function validate() { if(chosen===null)return; setValidated(true); if(chosen===quizData[qIdx].correct)setScore(s=>s+40); }
    function nextQ() { if(qIdx<quizData.length-1){setQIdx(i=>i+1);setChosen(null);setValidated(false);}else setStep("scenario"); }
    function finish() {
        const cert={v:1,d:new Date().toISOString(),m:MODULE_ID,n:name||"Auditeur",f:true,s:score};
        localStorage.setItem(CERT_KEY,JSON.stringify(cert));
        setToken(btoa(unescape(encodeURIComponent(JSON.stringify(cert)))));
        setStep("complete");
    }

    function renderLesson() {
        return e("div",{className:"card"},
            e("div",{className:"progress"},e("div",{className:"step active"},"1"),e("div",{className:"step"},"2"),e("div",{className:"step"},"3")),
            e("h2",null,"üìö Cours ‚Äî L'art de l'√©coute active"),
            e("p",{className:"intro-txt",style:{marginBottom:"22px"}},"Lis attentivement. Ces notions seront test√©es dans le quiz qui suit."),
            ...lesson.map((b,i)=>e("div",{key:i,className:"lesson-block"},
                e("h3",null,`${b.icon} ${b.title}`),
                e("p",null,b.body),
                b.niveaux && e("div",{className:"niveau-row"},...b.niveaux.map((n,j)=>e("div",{key:j,className:"niveau-item"},
                    e("div",{className:"niveau-num"},n.num),
                    e("div",{className:"niveau-txt"},e("strong",null,n.name," : "),n.desc)
                ))),
                b.items && e("div",{className:"niveau-row"},...b.items.map((it,j)=>e("div",{key:j,className:"niveau-item"},
                    e("div",{className:"niveau-num"},"‚Üí"),
                    e("div",{className:"niveau-txt"},e("strong",null,it.title," : "),it.desc)
                ))),
                b.compare && e("div",{className:"compare-row"},
                    e("div",{className:"compare-bad"},b.compare.bad),
                    e("div",{className:"compare-good"},b.compare.good)
                )
            )),
            e("button",{className:"btn",onClick:()=>setStep("quiz")},"J'ai compris ‚Äî Passer au Quiz ‚ñ∫")
        );
    }

    if(step==="intro") return e("div",{className:"card"},
        e("h1",null,"Module P01"),
        e("div",{style:{textAlign:"center",marginBottom:"24px"}},e("span",{className:"badge"},"L'ART DE L'√âCOUTE")),
        e("blockquote",null,'"On a deux oreilles et une seule langue pour √©couter deux fois plus qu\'on ne parle."'),
        e("p",{className:"intro-txt"},"Pour √™tre un bon d√©l√©gu√©, il ne suffit pas de savoir parler. Il faut surtout savoir √©couter ‚Äî vraiment √©couter, pas juste entendre. Ce module te donne les outils concrets pour y arriver."),
        e("input",{type:"text",placeholder:"Ton pr√©nom...",onChange:ev=>setName(ev.target.value)}),
        e("button",{className:"btn",onClick:()=>name.trim()?setStep("lesson"):alert("Un pr√©nom d'abord.")},name?"Brancher les antennes ‚Üí":"Entrez votre pr√©nom")
    );

    if(step==="lesson") return renderLesson();

    if(step==="quiz") {
        const q=quizData[qIdx];
        return e("div",{className:"card"},
            e("div",{className:"progress"},e("div",{className:"step done"},"‚úì"),e("div",{className:"step active"},"2"),e("div",{className:"step"},"3")),
            e("h2",null,`üî¨ Quiz ‚Äî Question ${qIdx+1}/${quizData.length}`),
            e("div",{className:"quiz-q"},q.q),
            q.opts.map((o,i)=>{ let cls="opt"; if(validated){if(i===q.correct)cls+=" correct";else if(i===chosen)cls+=" incorrect";} return e("button",{key:i,className:cls,disabled:validated,onClick:()=>setChosen(i)},o); }),
            chosen!==null&&!validated&&e("button",{className:"btn",onClick:validate,style:{marginTop:"16px"}},"Valider"),
            validated&&e("div",{className:`feedback ${chosen===q.correct?"ok":"ko"}`},e("strong",null,chosen===q.correct?"‚úî Bonne r√©ponse ‚Äî ":"‚úò √Ä revoir ‚Äî "),chosen===q.correct?q.feedback_ok:q.feedback_ko),
            validated&&e("div",{className:"nav-row"},e("button",{className:"btn-sm",onClick:nextQ},qIdx<quizData.length-1?"Question suivante ‚Üí":"Passer au sc√©nario ‚Üí"))
        );
    }

    if(step==="scenario") {
        const s=scenarioData;
        return e("div",{className:"card"},
            e("div",{className:"progress"},e("div",{className:"step done"},"‚úì"),e("div",{className:"step done"},"‚úì"),e("div",{className:"step active"},"3")),
            e("h2",null,"‚ö° Mise en situation"),
            e("div",{className:"scenario-ctx"},s.ctx),
            e("div",{className:"scenario-q"},s.q),
            scenChosen===null?s.choices.map((c,i)=>e("button",{key:i,className:"opt",onClick:()=>setScenChosen(i)},c.txt))
            :e("div",null,
                e("div",{className:`feedback ${s.choices[scenChosen].ok?"ok":"ko"}`},e("strong",null,s.choices[scenChosen].ok?"‚úî √âcoute active ‚Äî ":"‚ö† √Ä am√©liorer ‚Äî "),s.choices[scenChosen].res),
                e("button",{className:"btn",onClick:finish},"Valider mon module ‚Üí")
            )
        );
    }

    return e("div",{className:"card",style:{textAlign:"center"}},
        e("div",{style:{fontSize:"3rem",marginBottom:"16px"}},"üì°"),
        e("h1",null,"Antennes d√©ploy√©es !"),
        e("p",{style:{margin:"16px 0",color:"var(--text-muted)"}},`Bravo ${name}. Tu as compris que le silence est parfois l'outil le plus puissant du d√©l√©gu√©.`),
        e("div",null,e("div",{className:"score-val"},score),e("div",{className:"score-lbl"},"Points Quiz")),
        e("div",{className:"token-box"},token),
        e("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"20px"}},"Garde ce jeton pour le Hub."),
        e("button",{className:"btn",onClick:()=>window.location.href="index PIX_DELEGUES.html"},"Retour au Hub")
    );
}
ReactDOM.createRoot(document.getElementById("root")).render(e(App));
</script>
</body></html>
